; ModuleID = 'FunC'
source_filename = "FunC"

%ScopeStruct = type { i8*, i8** }

@fmt = private unnamed_addr constant [4 x i8] c"%d\0A\00", align 1
@fmt.1 = private unnamed_addr constant [4 x i8] c"%s\0A\00", align 1

declare i32 @printf(i8*, ...)

define i32 @main() {
entry:
  %a = alloca i32, align 4
  store i32 2, i32* %a, align 4
  %b = alloca i32, align 4
  store i32 3, i32* %b, align 4
  %malloccall = tail call i8* @malloc(i32 ptrtoint (%ScopeStruct* getelementptr (%ScopeStruct, %ScopeStruct* null, i32 1) to i32))
  %scope_instance = bitcast i8* %malloccall to %ScopeStruct*
  %malloccall1 = tail call i8* @malloc(i32 mul (i32 ptrtoint (i8** getelementptr (i8*, i8** null, i32 1) to i32), i32 3))
  %vars_array = bitcast i8* %malloccall1 to i8**
  %parent_ptr = getelementptr inbounds %ScopeStruct, %ScopeStruct* %scope_instance, i32 0, i32 0
  store i8* null, i8** %parent_ptr, align 8
  %var_ptr = getelementptr i8*, i8** %vars_array, i32 0
  %casted_val = bitcast i32* %a to i8*
  store i8* %casted_val, i8** %var_ptr, align 8
  %var_ptr2 = getelementptr i8*, i8** %vars_array, i32 1
  %casted_val3 = bitcast i32* %b to i8*
  store i8* %casted_val3, i8** %var_ptr2, align 8
  %var_ptr4 = getelementptr i8*, i8** %vars_array, i32 2
  store i8* bitcast (i32 (%ScopeStruct*, i32)* @"0973653662" to i8*), i8** %var_ptr4, align 8
  %vars_array_ptr = getelementptr inbounds %ScopeStruct, %ScopeStruct* %scope_instance, i32 0, i32 1
  store i8** %vars_array, i8*** %vars_array_ptr, align 8
  %f_result = call i32 @"0973653662"(%ScopeStruct* %scope_instance, i32 1)
  %printf = call i32 (i8*, ...) @printf(i8* getelementptr inbounds ([4 x i8], [4 x i8]* @fmt, i32 0, i32 0), i32 %f_result)
  ret i32 0
}

define i32 @"0973653662"(%ScopeStruct* %scope, i32 %x) {
entry:
  %scope1 = alloca %ScopeStruct*, align 8
  store %ScopeStruct* %scope, %ScopeStruct** %scope1, align 8
  %vars_array_ptr = getelementptr inbounds %ScopeStruct, %ScopeStruct* %scope, i32 0, i32 1
  %vars_array = load i8**, i8*** %vars_array_ptr, align 8
  %var_ptr = getelementptr i8*, i8** %vars_array, i32 0
  %var_val = load i8*, i8** %var_ptr, align 8
  %a = bitcast i8* %var_val to i32*
  %vars_array_ptr2 = getelementptr inbounds %ScopeStruct, %ScopeStruct* %scope, i32 0, i32 1
  %vars_array3 = load i8**, i8*** %vars_array_ptr2, align 8
  %var_ptr4 = getelementptr i8*, i8** %vars_array3, i32 1
  %var_val5 = load i8*, i8** %var_ptr4, align 8
  %b = bitcast i8* %var_val5 to i32*
  %x6 = alloca i32, align 4
  store i32 %x, i32* %x6, align 4
  %a7 = load i32, i32* %a, align 4
  %b8 = load i32, i32* %b, align 4
  %tmp = add i32 %a7, %b8
  %x9 = load i32, i32* %x6, align 4
  %tmp10 = add i32 %tmp, %x9
  ret i32 %tmp10
}

declare noalias i8* @malloc(i32)
